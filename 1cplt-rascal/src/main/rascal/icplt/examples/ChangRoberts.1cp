role @node(neigh: @node, x, y: number, z: boolean)
{
  main:
    x -> neigh.y |> forward

  forward:
    if
      x < y
    then
      y -> neigh.y |> forward
    else
      z := x == y // Leader?
}

process @node[1](@node[2], 5, 0, false)
process @node[2](@node[3], 6, 0, false)
process @node[3](@node[1], 7, 0, false)

#analyze
#compile
#execute
